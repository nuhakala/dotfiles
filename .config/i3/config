
# Jäbän i3 Config

# Mod1 = alt, Mod4 = win
set $mod Mod1

# ----- Aesthetics -----
hide_edge_borders both
smart_gaps on
smart_borders on
gaps inner 3
gaps outer -3
# Remove borders and title from windows.
new_window none

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8


# ----- Keybindings -----
# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
# move tiling windows via drag & drop by left-clicking into the title bar,
# or left-clicking anywhere into the window while holding the floating modifier.
# tiling_drag modifier titlebar

# Screenshots
# https://gist.github.com/dianjuar/ee774561a8bc02b077989bc17424a19f
bindsym Print exec --no-startup-id maim --select | xclip -selection clipboard -t image/png
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -q -D pulse sset Master 2%+
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -q sset Master 2%-
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause

# change focus
bindsym $mod+h focus left
bindsym $mod+t focus down
bindsym $mod+n focus up
bindsym $mod+s focus right

bindsym $mod+a focus left
bindsym $mod+o focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+H move left
bindsym $mod+Shift+T move down
bindsym $mod+Shift+N move up
bindsym $mod+Shift+S move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# start a terminal
# bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Return exec kitty

# kill focused window
bindsym $mod+Shift+o kill

# start program launcher
bindsym $mod+u exec --no-startup-id "rofi -show combi -modes combi -combi-modes 'drun,run'"
# bindsym $mod+u exec --no-startup-id dmenu_run
# Start nnn

# bindsym $mod+e exec --no-startup-id export NNN_PLUG="m:nmount;p:preview-tabbed" && export NNN_BMS="u:/media/sdc/" && export NNN_FIFO="/tmp/nnn.fifo nnn" && urxvt -e nnn
# bindsym $mod+e exec --no-startup-id urxvt -e nnn
bindsym $mod+e exec --no-startup-id nautilus
# Start alsamixer
# bindsym $mod+j exec --no-startup-id alsamixer

# split in horizontal orientation
bindsym $mod+k split h

# split in vertical orientation
bindsym $mod+g split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+period layout stacking
bindsym $mod+q layout tabbed
bindsym $mod+j layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle


# ----- Workspaces -----
# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1:Web"
set $ws2 "2:Dev"
set $ws3 "3:Chat"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

workspace 1 output primary
workspace 2 output primary
workspace 3 output DVI-D-0
# workspace 4 output DVI-D-0

# Set workspace 1 active on startup
exec --no-startup-id i3-msg 'workspace "1:Web"'

assign [class="Slack"] 3:Chat
assign [class="discord"] 3:Chat
for_window [class="Slack"] layout tabbed
for_window [class="discord"] layout tabbed
# workspace "3:Chat" layout tabbed

exec --no-startup-id firefox
exec --no-startup-id slack
exec --no-startup-id discord

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+z workspace number $ws6
bindsym $mod+adiaeresis workspace number $ws7
bindsym $mod+y workspace number $ws8
bindsym $mod+i workspace number $ws9
bindsym $mod+odiaeresis workspace number $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+z move container to workspace number $ws6
bindsym $mod+Shift+adiaeresis move container to workspace number $ws7
bindsym $mod+Shift+y move container to workspace number $ws8
bindsym $mod+Shift+i move container to workspace number $ws9
bindsym $mod+Shift+odiaeresis move container to workspace number $ws10

# reload the configuration file
bindsym $mod+comma reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+comma restart

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym t resize grow height 10 px or 10 ppt
        bindsym n resize shrink height 10 px or 10 ppt
        bindsym s resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+i mode "default"
}

bindsym $mod+r mode "resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
  status_command SCRIPT_DIR=~/.config/i3blocks/scripts i3blocks
  # status_command i3status
  strip_workspace_numbers yes
  font pango:DeJaVu Sans Mono 10
}

bindsym $mod+m bar mode toggle
# Caps lock indicator for i3 blocks
bindsym --release Caps_Lock exec pkill -SIGRTMIN+11 i3blocks

